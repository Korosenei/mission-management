<!DOCTYPE html>
<html xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8"/>
    <meta charset="utf-8"/>
    <title>#{msg['configuration.title']}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <link rel="apple-touch-icon" href="pages/ico/60.png"/>
    <link rel="apple-touch-icon" sizes="76x76" href="pages/ico/76.png"/>
    <link rel="apple-touch-icon" sizes="120x120" href="pages/ico/120.png"/>
    <link rel="apple-touch-icon" sizes="152x152" href="pages/ico/152.png"/>
    <link rel="icon" type="image/x-icon" href="favicon.ico"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-touch-fullscreen" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="default"/>
    <meta content="" name="description"/>
    <meta content="" name="author"/>

    <link href="assets/css/style.css" rel="stylesheet" type="text/css"/>
    <link href="assets/plugins/pace/pace-theme-flash.css" rel="stylesheet" type="text/css"/>
    <link href="assets/plugins/boostrapv3/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
    <link href="assets/plugins/font-awesome/css/font-awesome.css" rel="stylesheet" type="text/css"/>
    <link href="assets/plugins/jquery-scrollbar/jquery.scrollbar.css" rel="stylesheet" type="text/css" media="screen"/>
    <link href="assets/plugins/bootstrap-select2/select2.css" rel="stylesheet" type="text/css" media="screen"/>
    <link href="assets/plugins/switchery/css/switchery.min.css" rel="stylesheet" type="text/css" media="screen"/>
    <link href="assets/plugins/bootstrap-tag/bootstrap-tagsinput.css" rel="stylesheet" type="text/css"/>
    <link href="assets/plugins/bootstrap3-wysihtml5/bootstrap3-wysihtml5.min.css" rel="stylesheet" type="text/css"/>
    <link href="pages/css/pages-icons.css" rel="stylesheet" type="text/css"/>
    <link class="main-stylesheet" href="pages/css/pages.css" rel="stylesheet" type="text/css"/>
    <!--[if lte IE 9]>
        <link href="pages/css/ie9.css" rel="stylesheet" type="text/css" />
    <![endif]-->
    <script type="text/javascript">
        window.onload = function () {
            // fix for windows 8
            if (navigator.appVersion.indexOf("Windows NT 6.2") != -1)
                document.head.innerHTML += '<link rel="stylesheet" type="text/css" href="pages/css/windows.chrome.fix.css" />'
        }
    </script>
</h:head>
<h:body class="fixed-header   ">

    <!-- END SIDEBPANEL-->
    <!-- START PAGE-CONTAINER -->
    <div class="page-container">
        <!-- START HEADER -->
        <ui:include src="header.xhtml"/>
        <!-- END HEADER -->
        <!-- START PAGE CONTENT WRAPPER -->
        <div class="page-content-wrapper full-height">
            <!-- START PAGE CONTENT -->
            <div class="content full-height">
                <!-- START EMAIL -->
                <!-- START EMAIL SIDEBAR MENU-->
                <nav class="secondary-sidebar padding-30">
                    <a href="addmission"
                       class="btn btn-complete btn-block btn-compose m-b-30">#{msg['mission.compose']}</a>


                    <ul class="main-menu">

                        <li class="active">
                            <a href="missions">
                                <span class="title"><i class="pg-inbox"/>#{msg['menu.orderManagement']}</span>
                                <!--<span class="badge pull-right">5</span>-->
                            </a>
                        </li>

                    </ul>
                </nav>

                <!-- END EMAL SIDEBAR MENU -->
                <!-- START COMPOSE EMAIL -->
                <div class="email-composer
container-fluid">
                    <div class="row">
                        <div class="col-sm-12 no-padding">
                            <!--<div class="wysiwyg5-wrapper ">-->
                            <!--<h1>#{msg['mission.new']}</h1>-->
                            <!--</div>-->
                            <h:form id="missionDetail">
                                <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}"/>
                                <div data-email="opened" class="split-details">
                                    <div class="email-content-wrapper">

                                        <div class="email-content">

                                            <div class="email-content-header">
                                                <h2>#{addMissionView.mission.employe.prenom}
                                                    #{addMissionView.mission.employe.nom}
                                                </h2>
                                            </div>

                                            <div class="clearfix"/>

                                            <div class="email-content-body m-t-20">
                                                <div class="form-group-attached">

                                                    <div class="form-group form-group-default required">
                                                        <label>#{msg['mission.objet']}</label>
                                                        <p:inputText label="#{msg['mission.objet']}"
                                                                     styleClass="form-control input-lg" id="objet"
                                                                     value="#{addMissionView.mission.objet}"
                                                                     required="true"/>
                                                        <p:message for="objet"/>
                                                    </div>

                                                    <div class="row clearfix">
                                                        <div class="col-sm-6">
                                                            <div class="form-group form-group-default">
                                                                <label>#{msg['mission.entreprise']}</label>
                                                                <h:selectOneMenu label="#{msg['mission.entreprise']}"
                                                                                 id="entreprise"
                                                                                 styleClass="select-one-menu"
                                                                                 value="#{addMissionView.mission.entreprise}">
                                                                    <f:selectItem noSelectionOption="true"
                                                                                  itemLabel="#{msg['employe.message.selectbank']}"
                                                                                  itemValue=""/>
                                                                    <f:selectItems
                                                                            value="#{addMissionView.entreprises}"
                                                                            var="entr" itemValue="#{entr}"
                                                                            itemLabel="#{entr.nom}"/>
                                                                    <f:converter for="entreprise"
                                                                                 converterId="entrepriseConverter"/>
                                                                </h:selectOneMenu>
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-6">
                                                            <div class="form-group form-group-default required">
                                                                <label>#{msg['mission.type']}</label>
                                                                <h:selectOneMenu label="#{msg['mission.type']}"
                                                                                 id="type" required="true"
                                                                                 styleClass="select-one-menu"
                                                                                 value="#{addMissionView.mission.type}">
                                                                    <f:selectItem noSelectionOption="true"
                                                                                  itemLabel="#{msg['employe.message.selectbank']}"
                                                                                  itemValue=""/>
                                                                    <f:selectItems
                                                                            value="#{addMissionView.missionTypes}"
                                                                            var="tp" itemValue="#{tp}"
                                                                            itemLabel="#{tp.label}"/>
                                                                    <f:converter for="type"
                                                                                 converterId="missionTypeConverter"/>
                                                                </h:selectOneMenu>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-group form-group-default required">
                                                        <label>#{msg['mission.destination']}</label>
                                                        <p:pickList id="ville" value="#{addMissionView.villes}"
                                                                    showTargetControls="true" showCheckbox="true"
                                                                    responsive="true"
                                                                    showSourceFilter="true" showTargetFilter="true"
                                                                    filterMatchMode="contains"
                                                                    var="v" itemLabel="#{v.nom}"
                                                                    converter="villeConverter"

                                                                    itemValue="#{v}">

                                                            <f:facet
                                                                    name="sourceCaption">#{msg['mission.villes.all']}</f:facet>
                                                            <f:facet
                                                                    name="targetCaption">#{msg['mission.villes.destination']}</f:facet>
                                                        </p:pickList>
                                                    </div>
                                                    <div class="row clearfix">
                                                        <div class="col-sm-6">
                                                            <div class="form-group form-group-default required">
                                                                <label>#{msg['mission.startDate']}</label>
                                                                <h:inputText id="startdate"
                                                                             label="#{msg['mission.startDate']}"
                                                                             styleClass="form-control input-lg"
                                                                             value="#{addMissionView.mission.startDate}">
                                                                    <f:convertDateTime
                                                                            pattern="#{msg['date.pattern']}"/>
                                                                    <f:converter binding="#{localDateTimeConverter}"/>
                                                                </h:inputText>
                                                                <p:message for="startdate"/>
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-6">
                                                            <div class="form-group form-group-default required">
                                                                <label>#{msg['mission.endDate']}</label>
                                                                <h:inputText id="enddate"
                                                                             label="#{msg['mission.endDate']}"
                                                                             styleClass="form-control input-lg"
                                                                             value="#{addMissionView.mission.endDate}">
                                                                    <f:convertDateTime
                                                                            pattern="#{msg['date.pattern']}"/>
                                                                    <f:converter binding="#{localDateTimeConverter}"/>
                                                                </h:inputText>
                                                                <p:message for="enddate"/>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <p class="m-t-10">#{msg['mission.transport']}</p>

                                                <div class="form-group-attached">
                                                    <div class="row clearfix">
                                                        <div class="col-sm-6">
                                                            <div class="form-group form-group-default required">
                                                                <label>#{msg['mission.transporttype']}</label>
                                                                <h:selectOneMenu label="#{msg['mission.transporttype']}"
                                                                                 id="transporttype"
                                                                                 styleClass="select-one-menu"
                                                                                 value="#{addMissionView.mission.transportType}">
                                                                    <f:selectItems
                                                                            value="#{addMissionView.transportTypes}"/>
                                                                    <f:converter binding="#{genericEnumConverter}"/>
                                                                    <f:ajax render="missionDetail:accomp"/>
                                                                </h:selectOneMenu>
                                                                <p:message for="transporttype"/>
                                                            </div>
                                                        </div>
                                                        <h:panelGroup id="accomp">
                                                            <h:panelGroup
                                                                    rendered="#{addMissionView.mission.transportType=='Accompagnement'}">
                                                                <div class="col-sm-6">
                                                                    <div class="form-group form-group-default required">
                                                                        <label>#{msg['mission.accompEmploye']}</label>
                                                                        <h:selectOneMenu
                                                                                id="chef"
                                                                                styleClass="select-one-menu"
                                                                                value="#{addMissionView.mission.accompEmploye}">
                                                                            <f:selectItem noSelectionOption="true"
                                                                                          itemLabel="#{msg['employe.message.selectbank']}"
                                                                                          itemValue=""/>
                                                                            <f:selectItems rendered="true"
                                                                                           value="#{serviceView.employes}"
                                                                                           var="emp"
                                                                                           itemValue="#{emp}"
                                                                                           itemLabel="#{emp.fullName}"
                                                                            />
                                                                            <f:converter
                                                                                    converterId="employeConverter"/>
                                                                        </h:selectOneMenu>
                                                                    </div>
                                                                </div>
                                                            </h:panelGroup>
                                                        </h:panelGroup>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row p-b-20">
                                    <div style="text-align: center" class="col-sm-11 m-t-30">
                                        <button type="reset"
                                                class="btn btn-white btn-cons">#{msg['mission.button.clear']}</button>
                                        <p:commandButton process="@(form)"
                                                         oncomplete="if (args &amp;&amp; !args.validationFailed) showNotification('#{msg['mission.notification.success.add']}','success')"
                                                         update="@(form)" validateClient="true"
                                                         value="#{msg['mission.button.add']}"
                                                         actionListener="#{addMissionView.addMission()}"
                                                         class="btn btn-complete btn-cons m-l-10"/>
                                    </div>
                                </div>
                                <script>
                                    $(document).ready(function () {
                                        $("#missionDetail\\:startdate").mask("99/99/9999 Heure 99:99");
                                        $("#missionDetail\\:enddate").mask("99/99/9999 Heure 99:99");
                                    });
                                </script>
                            </h:form>

                        </div>
                    </div>

                </div>
                <!-- END COMPOSE EMAIL -->
                <!-- END EMAIL -->
            </div>
            <!-- END PAGE CONTENT -->
        </div>
        <!-- END PAGE CONTENT WRAPPER -->
    </div>
    <!-- END PAGE CONTAINER -->

    <!-- START OVERLAY -->
    <div class="overlay hide" data-pages="search">
        <!-- BEGIN Overlay Content !-->
        <div class="overlay-content has-results m-t-20">
            <!-- BEGIN Overlay Header !-->
            <div class="container-fluid">
                <!-- BEGIN Overlay Logo !-->
                <img class="overlay-brand" src="assets/img/logo.png" alt="logo" data-src="assets/img/logo.png"
                     data-src-retina="assets/img/logo_2x.png" width="78" height="22"/>
                <!-- END Overlay Logo !-->
                <!-- BEGIN Overlay Close !-->
                <a href="#" class="close-icon-light overlay-close text-black fs-16">
                    <i class="pg-close"></i>
                </a>
                <!-- END Overlay Close !-->
            </div>
            <!-- END Overlay Header !-->
            <div class="container-fluid">
                <!-- BEGIN Overlay Controls !-->
                <input id="overlay-search" class="no-border overlay-search bg-transparent" placeholder="Search..."
                       autocomplete="off" spellcheck="false"/>
                <br/>
                <div class="inline-block">
                    <div class="checkbox right">
                        <input id="checkboxn" type="checkbox" value="1" checked="checked"/>
                        <label for="checkboxn"><i class="fa fa-search"></i> Search within page</label>
                    </div>
                </div>
                <div class="inline-block m-l-10">
                    <p class="fs-13">Press enter to search</p>
                </div>
                <!-- END Overlay Controls !-->
            </div>
            <!-- BEGIN Overlay Search Results, This part is for demo purpose, you can add anything you like !-->
            <div class="container-fluid">
          <span>
                <strong>suggestions :</strong>
            </span>
                <span id="overlay-suggestions"></span>
                <br/>
                <div class="search-results m-t-40">
                    <p class="bold">Pages Search Results</p>
                    <div class="row">
                        <div class="col-md-6">
                            <!-- BEGIN Search Result Item !-->
                            <div class="">
                                <!-- BEGIN Search Result Item Thumbnail !-->
                                <div class="thumbnail-wrapper d48 circular bg-success text-white inline m-t-10">
                                    <div>
                                        <img width="50" height="50" src="assets/img/profiles/avatar.jpg"
                                             data-src="assets/img/profiles/avatar.jpg"
                                             data-src-retina="assets/img/profiles/avatar2x.jpg" alt=""/>
                                    </div>
                                </div>
                                <!-- END Search Result Item Thumbnail !-->
                                <div class="p-l-10 inline p-t-5">
                                    <h5 class="m-b-5"><span class="semi-bold result-name">ice cream</span> on pages</h5>
                                    <p class="hint-text">via john smith</p>
                                </div>
                            </div>
                            <!-- END Search Result Item !-->
                            <!-- BEGIN Search Result Item !-->
                            <div class="">
                                <!-- BEGIN Search Result Item Thumbnail !-->
                                <div class="thumbnail-wrapper d48 circular bg-success text-white inline m-t-10">
                                    <div>T</div>
                                </div>
                                <!-- END Search Result Item Thumbnail !-->
                                <div class="p-l-10 inline p-t-5">
                                    <h5 class="m-b-5"><span
                                            class="semi-bold result-name">ice cream</span> related topics</h5>
                                    <p class="hint-text">via pages</p>
                                </div>
                            </div>
                            <!-- END Search Result Item !-->
                            <!-- BEGIN Search Result Item !-->
                            <div class="">
                                <!-- BEGIN Search Result Item Thumbnail !-->
                                <div class="thumbnail-wrapper d48 circular bg-success text-white inline m-t-10">
                                    <div><i class="fa fa-headphones large-text "></i>
                                    </div>
                                </div>
                                <!-- END Search Result Item Thumbnail !-->
                                <div class="p-l-10 inline p-t-5">
                                    <h5 class="m-b-5"><span class="semi-bold result-name">ice cream</span> music</h5>
                                    <p class="hint-text">via pagesmix</p>
                                </div>
                            </div>
                            <!-- END Search Result Item !-->
                        </div>
                        <div class="col-md-6">
                            <!-- BEGIN Search Result Item !-->
                            <div class="">
                                <!-- BEGIN Search Result Item Thumbnail !-->
                                <div class="thumbnail-wrapper d48 circular bg-info text-white inline m-t-10">
                                    <div><i class="fa fa-facebook large-text "></i>
                                    </div>
                                </div>
                                <!-- END Search Result Item Thumbnail !-->
                                <div class="p-l-10 inline p-t-5">
                                    <h5 class="m-b-5"><span class="semi-bold result-name">ice cream</span> on facebook
                                    </h5>
                                    <p class="hint-text">via facebook</p>
                                </div>
                            </div>
                            <!-- END Search Result Item !-->
                            <!-- BEGIN Search Result Item !-->
                            <div class="">
                                <!-- BEGIN Search Result Item Thumbnail !-->
                                <div class="thumbnail-wrapper d48 circular bg-complete text-white inline m-t-10">
                                    <div><i class="fa fa-twitter large-text "></i>
                                    </div>
                                </div>
                                <!-- END Search Result Item Thumbnail !-->
                                <div class="p-l-10 inline p-t-5">
                                    <h5 class="m-b-5">Tweats on<span class="semi-bold result-name"> ice cream</span>
                                    </h5>
                                    <p class="hint-text">via twitter</p>
                                </div>
                            </div>
                            <!-- END Search Result Item !-->
                            <!-- BEGIN Search Result Item !-->
                            <div class="">
                                <!-- BEGIN Search Result Item Thumbnail !-->
                                <div class="thumbnail-wrapper d48 circular text-white bg-danger inline m-t-10">
                                    <div><i class="fa fa-google-plus large-text "></i>
                                    </div>
                                </div>
                                <!-- END Search Result Item Thumbnail !-->
                                <div class="p-l-10 inline p-t-5">
                                    <h5 class="m-b-5">Circles on<span class="semi-bold result-name"> ice cream</span>
                                    </h5>
                                    <p class="hint-text">via google plus</p>
                                </div>
                            </div>
                            <!-- END Search Result Item !-->
                        </div>
                    </div>
                </div>
            </div>
            <!-- END Overlay Search Results !-->
        </div>
        <!-- END Overlay Content !-->
    </div>
    <!-- END OVERLAY -->
    <!-- BEGIN VENDOR JS -->
    <script src="assets/plugins/pace/pace.min.js" type="text/javascript"></script>


    <!--<script src="assets/plugins/jquery/jquery-1.11.1.min.js" type="text/javascript"></script>-->


    <!--<script src="assets/plugins/modernizr.custom.js" type="text/javascript"></script>-->
    <script src="assets/plugins/jquery-ui/jquery-ui.min.js" type="text/javascript"></script>
    <script src="assets/plugins/boostrapv3/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="assets/plugins/jquery/jquery-easy.js" type="text/javascript"></script>
    <script src="assets/plugins/jquery-unveil/jquery.unveil.min.js" type="text/javascript"></script>
    <script src="assets/plugins/jquery-bez/jquery.bez.min.js"></script>
    <script src="assets/plugins/jquery-ios-list/jquery.ioslist.min.js" type="text/javascript"></script>
    <script src="assets/plugins/jquery-actual/jquery.actual.min.js"></script>
    <script src="assets/plugins/jquery-scrollbar/jquery.scrollbar.min.js"></script>
    <script type="text/javascript" src="assets/plugins/bootstrap-select2/select2.min.js"></script>
    <script type="text/javascript" src="assets/plugins/classie/classie.js"></script>
    <script src="assets/plugins/switchery/js/switchery.min.js" type="text/javascript"></script>
    <script type="text/javascript" src="assets/plugins/bootstrap-tag/bootstrap-tagsinput.min.js"></script>
    <script src="assets/plugins/bootstrap3-wysihtml5/bootstrap3-wysihtml5.all.min.js"></script>
    <!-- END VENDOR JS -->
    <!-- BEGIN CORE TEMPLATE JS -->
    <!--<script src="pages/js/pages.min.js"></script>-->
    <!--<script src="pages/js/pages.email.js" type="text/javascript"></script>-->
    <!-- END CORE TEMPLATE JS -->
    <!-- BEGIN PAGE LEVEL JS -->
    <script src="assets/js/scripts.js" type="text/javascript"></script>
    <!-- END PAGE LEVEL JS -->
    <script src="assets/plugins/jquery-inputmask/jquery.inputmask.min.js" type="text/javascript"/>
    <script src="assets/js/custom.js" type="text/javascript"/>
    <script src="assets/js/custom.js" type="text/javascript"/>

</h:body>
</html>